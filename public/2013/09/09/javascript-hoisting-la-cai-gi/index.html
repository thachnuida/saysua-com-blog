<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Javascript Hoisting là gì? | Saysua Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Khi thao tác với các biến trong javascript, nếu không để ý bạn sẽ rất dễ gặp phải một sự nhầm lần khó hiểu như ví dụ dưới đây. Mình không rõ nó là lỗi hay là đặc thù của ngôn ngữ javascript, nhưng dù">
<meta property="og:type" content="article">
<meta property="og:title" content="Javascript Hoisting là gì?">
<meta property="og:url" content="http://saysua.com/2013/09/09/javascript-hoisting-la-cai-gi/index.html">
<meta property="og:site_name" content="Saysua Blog">
<meta property="og:description" content="Khi thao tác với các biến trong javascript, nếu không để ý bạn sẽ rất dễ gặp phải một sự nhầm lần khó hiểu như ví dụ dưới đây. Mình không rõ nó là lỗi hay là đặc thù của ngôn ngữ javascript, nhưng dù">
<meta property="og:updated_time" content="2016-10-16T01:41:21.971Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Javascript Hoisting là gì?">
<meta name="twitter:description" content="Khi thao tác với các biến trong javascript, nếu không để ý bạn sẽ rất dễ gặp phải một sự nhầm lần khó hiểu như ví dụ dưới đây. Mình không rõ nó là lỗi hay là đặc thù của ngôn ngữ javascript, nhưng dù">
  
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  

   
  <link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css">
  <style type="text/css">
  #mc_embed_signup{clear:left; font:14px Helvetica,Arial,sans-serif; }
  #mc_embed_signup form {padding: 0px;}
  #mc_embed_signup .button {    background-color: #26C9FF;}
  /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
     We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
  
</head>
<body>
  <div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.4&appId=166177166899797";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">
          <img class="author-avatar"/>
          <div class="text">Saysua Blog</div>
        </a>
      </h1>
      
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
          <nav id="main-nav">
  <a id="main-nav-toggle" class="nav-icon"></a>
  
    <a class="main-nav-link" href="/">Home</a>
  
    <a class="main-nav-link" href="http://app.saysua.com">Apps</a>
  
    <a class="main-nav-link" href="/about">About</a>
  
</nav>
          <div class="content">
            <article id="post-javascript-hoisting-la-cai-gi" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/09/09/javascript-hoisting-la-cai-gi/" class="article-date">
  <time datetime="2013-09-09T08:02:49.000Z" itemprop="datePublished">2013-09-09</time>
</a>
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Javascript Hoisting là gì?
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Khi thao tác với các biến trong javascript, nếu không để ý bạn sẽ rất dễ gặp phải một sự nhầm lần khó hiểu như ví dụ dưới đây. Mình không rõ nó là lỗi hay là đặc thù của ngôn ngữ javascript, nhưng dù sao cũng rất khó chấp nhận nó một cách thoải mái.</p>
<p>Chúng ta hãy cùng nhau chạy đoạn code sau:</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var myName = <span class="string">"saysua"</span><span class="comment">;</span></div><div class="line">alert(myName)<span class="comment">;</span></div></pre></td></tr></table></figure>
<a id="more"></a>
<p>Dĩ nhiên kết quả nhận được sẽ là một hộp thoại thông báo với dòng chữ “saysua” <a href="http://jsfiddle.net/thachnuida/4hXVS/" target="_blank" rel="external">(Run)</a>.</p>
<p>Tiếp tục thêm một function cho đoạn code trên:</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myName = <span class="string">"saysua"</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">say</span><span class="params">()</span> </span>&#123;</div><div class="line">    alert(myName);</div><div class="line">&#125;</div><div class="line"></div><div class="line">say();</div></pre></td></tr></table></figure>
<p>Tất nhiên kết cũng giống như đoạn code trên <a href="http://jsfiddle.net/thachnuida/4hXVS/1/" target="_blank" rel="external">(Run)</a>. Vẫn chưa có điều gì đặc biệt ở đây cả. Giá trị của biến <code>myName</code> vẫn được xuất hiện khi gọi <code>alert</code> .</p>
<p>Bây giờ nếu ta thêm một khai báo biến <code>myName</code> vào hàm <code>say()</code> ngay sau câu lệnh <code>alert</code> thì kết quả sẽ thế nào. Hẳn bạn sẽ nghĩ rằng, không có gì thay đổi cả. Dòng thông báo cũ vẫn xuất hiện?</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myName = <span class="string">"saysua"</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">say</span><span class="params">()</span> </span>&#123;</div><div class="line">    alert(myName);</div><div class="line">    <span class="keyword">var</span> myName = <span class="string">"saysua.com"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">say();</div></pre></td></tr></table></figure>
<p>Ah, không phải vậy. Bảng thông báo vẫn xuất hiện, nhưng nó báo rằng biến <code>myName</code>  <code>undefined</code> <a href="http://jsfiddle.net/thachnuida/4hXVS/2/" target="_blank" rel="external">(Run)</a>. Điều gì đã xảy ra vậy? Rõ ràng chúng ta đã khai báo biến myName  ngay từ đầu?</p>
<p>Đó chính là vì <code>Hoisting</code>.</p>
<h1 id="Khai-bao-va-khoi-tao-bien"><a href="#Khai-bao-va-khoi-tao-bien" class="headerlink" title="Khai báo và khởi tạo biến"></a>Khai báo và khởi tạo biến</h1><p>Trước khi, tìm hiểu xem hoisting đã làm gì với đoạn code trên, chúng ta cần hiểu 2 khái niệm sau:</p>
<p>Khai báo: Chúng ta báo cho chương trình biết rằng ta sẽ sử dụng một biến <code>xyz</code> nào đó nhưng chưa gán giá trị cho nó.<br>Khởi tạo: Chúng ta gán cho biến một giá trị khởi tạo ban đầu.<br>Có lẽ nhìn code sẽ dễ hiểu hơn:</p>
<figure class="highlight gauss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var <span class="built_in">xyz</span>; <span class="comment">// Khai báo, giá trị của xyz hiện tại chưa có (undefined)</span></div><div class="line"></div><div class="line"><span class="built_in">xyz</span> = <span class="string">"hello"</span> <span class="comment">// Khởi tạo giá trị ban đầu cho xyz</span></div></pre></td></tr></table></figure>
<h1 id="Do-la-vi-hoisting"><a href="#Do-la-vi-hoisting" class="headerlink" title="Đó là vì hoisting"></a>Đó là vì hoisting</h1><p>Hoisting, dịch ra nghĩa là “cẩu lên, kéo lên”. Đúng là như vậy, khi ta khai báo một biến trong phạm vi sử dụng của mình, cho dù ta có gọi lời khai báo ở đâu, việc khai báo của biến đó cũng sẽ được “cẩu lên” trên cùng phạm vi sử dụng (tất nhiên việc này sẽ chạy ngầm khi chương trình được thực thi), còn việc khởi tạo giá trị của biến vẫn giữ nguyên vị trí cũ.</p>
<p>Đoạn code bên trên của chúng ta, nếu được viết lại theo sự diễn giải của hoisting nó sẽ như thế này:</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myName = <span class="string">"saysua"</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">say</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> myName; <span class="comment">// Khai báo đã bị kéo lên trên, lúc này myName chưa có giá trị "undefined"</span></div><div class="line">    alert(myName);</div><div class="line">    myName = <span class="string">"saysua.com"</span>; <span class="comment">// Khởi tạo giá trị cho myName</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">say();</div></pre></td></tr></table></figure>
<p>Chính vì chỉ có việc khai báo bị kéo lên trên, còn việc khởi tạo giá trị thì vẫn ở nguyên nên câu lệnh alert  của ta mới hiện thông báo <code>undefined</code>. Rõ ràng là rất dể nhầm lẫn nếu ta không để ý đến nó.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://saysua.com/2013/09/09/javascript-hoisting-la-cai-gi/" data-id="ciubaakp10006kovl7for8szy" class="article-share-link">Share</a>
      
        <a href="http://saysua.com/2013/09/09/javascript-hoisting-la-cai-gi/#disqus_thread" class="article-comment-link">Comments</a>
      
      <div class="tagcloud">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Javascript/">Javascript</a></li></ul>

      </div>
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2013/09/14/trich-xuat-du-lieu-web-bang-php-voi-pqlite/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Trích xuất dữ liệu web bằng PHP với PQLite
        
      </div>
    </a>
  
  
    <a href="/2013/09/03/viet-chuc-nang-login-bang-tai-khoan-facebook-khong-dung-facebook-sdk/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Viết chức năng login bằng tài khoản facebook không dùng Facebook SDK</div>
    </a>
  
</nav>

  
</article>

<hr>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>


          </div>
        </section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
  <h3 class="widget-title">Like my blog?</h3>
    <div class="widget">
        <div id="mc_embed_signup">
            <form action="//saysua.us13.list-manage.com/subscribe/post?u=f73e6f67cd2f017d41a3e3d41&amp;id=f866d9a20e" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate="novalidate">
                <div id="mc_embed_signup_scroll">
            <div class="mc-field-group">
                <label>Enter your email to subscribe my blog.</label>
                <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="Your email address" aria-required="true">
            </div>
                <div id="mce-responses" class="clear">
                    <div class="response" id="mce-error-response" style="display:none"></div>
                    <div class="response" id="mce-success-response" style="display:none"></div>
                </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_f73e6f67cd2f017d41a3e3d41_f866d9a20e" tabindex="-1" value=""></div>
                <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
                </div>
            </form>
        </div>
    </div>
</div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Labels</h3>
    <div class="widget tagcloud">
      <a href="/tags/Ajax/" style="font-size: 12px;">Ajax</a> <a href="/tags/Angular2/" style="font-size: 18px;">Angular2</a> <a href="/tags/Angularjs/" style="font-size: 12px;">Angularjs</a> <a href="/tags/Bower/" style="font-size: 12px;">Bower</a> <a href="/tags/Facebook/" style="font-size: 12px;">Facebook</a> <a href="/tags/Gulp/" style="font-size: 12px;">Gulp</a> <a href="/tags/Javascript/" style="font-size: 20px;">Javascript</a> <a href="/tags/Jquery/" style="font-size: 18px;">Jquery</a> <a href="/tags/Mysql/" style="font-size: 12px;">Mysql</a> <a href="/tags/Nodejs/" style="font-size: 16px;">Nodejs</a> <a href="/tags/OAuth/" style="font-size: 12px;">OAuth</a> <a href="/tags/PHP/" style="font-size: 14px;">PHP</a> <a href="/tags/Scrape/" style="font-size: 12px;">Scrape</a> <a href="/tags/TeamCity/" style="font-size: 12px;">TeamCity</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/09/07/teamcity-build-agent-disconnected/">TeamCity – Build agent disconnected</a>
          </li>
        
          <li>
            <a href="/2016/04/19/nodejs-module-cache-trying/">Nodejs Module Caching</a>
          </li>
        
          <li>
            <a href="/2016/03/01/nodejs-request-Error-socket-hang-up-code-ECONNRESET/">Nodejs - Request - Error socket hang up code - ECONNRESET</a>
          </li>
        
          <li>
            <a href="/2015/12/14/lam-quen-voi-angular2-zoo-app-part-3-dependency-injection/">Làm quen với Angular 2 - Zoo app - part 3 - Dependency Injection</a>
          </li>
        
          <li>
            <a href="/2015/12/10/lam-quen-voi-angular2-zoo-app-part-2/">Làm quen với Angular 2 - Zoo app - part 2 - Form</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/01/">January 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">December 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">November 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">October 2013</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">September 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">August 2013</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Thach Nguyen<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      Theme is based on <a href="http://demo.s5themes.com/focused/">Focused</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="http://app.saysua.com" class="mobile-nav-link">Apps</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'saysua';
  
  var disqus_url = 'http://saysua.com/2013/09/09/javascript-hoisting-la-cai-gi/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>



<script src="/js/script.js"></script>

  </div>
</body>
</html>