<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Làm quen với Angular 2 - Zoo app - part 2 - Form | Saysua Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Ở phần 1 chúng ta đã sử dụng một vài directives cơ bản của Angular như NgFor, NgIf, NgClass và ta cũng biết rằng muốn sử dụng directive nào, ta phải khai báo directive đó cho Component. Tuy nhiên việc">
<meta property="og:type" content="article">
<meta property="og:title" content="Làm quen với Angular 2 - Zoo app - part 2 - Form">
<meta property="og:url" content="http://saysua.com/2015/12/10/lam-quen-voi-angular2-zoo-app-part-2/index.html">
<meta property="og:site_name" content="Saysua Blog">
<meta property="og:description" content="Ở phần 1 chúng ta đã sử dụng một vài directives cơ bản của Angular như NgFor, NgIf, NgClass và ta cũng biết rằng muốn sử dụng directive nào, ta phải khai báo directive đó cho Component. Tuy nhiên việc">
<meta property="og:image" content="http://saysua.com/images/angular2-input-invalid.png">
<meta property="og:image" content="http://saysua.com/images/angular2-error-message.png">
<meta property="og:image" content="http://saysua.com/images/angular2-zoo-app-2.png">
<meta property="og:updated_time" content="2016-10-16T02:45:33.399Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Làm quen với Angular 2 - Zoo app - part 2 - Form">
<meta name="twitter:description" content="Ở phần 1 chúng ta đã sử dụng một vài directives cơ bản của Angular như NgFor, NgIf, NgClass và ta cũng biết rằng muốn sử dụng directive nào, ta phải khai báo directive đó cho Component. Tuy nhiên việc">
<meta name="twitter:image" content="http://saysua.com/images/angular2-input-invalid.png">
  
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  

   
  <link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css">
  <style type="text/css">
  #mc_embed_signup{clear:left; font:14px Helvetica,Arial,sans-serif; }
  #mc_embed_signup form {padding: 0px;}
  #mc_embed_signup .button {    background-color: #26C9FF;}
  /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
     We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
  
</head>
<body>
  <div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.4&appId=166177166899797";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">
          <img class="author-avatar"/>
          <div class="text">Saysua Blog</div>
        </a>
      </h1>
      
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
          <nav id="main-nav">
  <a id="main-nav-toggle" class="nav-icon"></a>
  
    <a class="main-nav-link" href="/">Home</a>
  
    <a class="main-nav-link" href="http://app.saysua.com">Apps</a>
  
    <a class="main-nav-link" href="/about">About</a>
  
</nav>
          <div class="content">
            <article id="post-lam-quen-voi-angular2-zoo-app-part-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/10/lam-quen-voi-angular2-zoo-app-part-2/" class="article-date">
  <time datetime="2015-12-10T04:05:24.000Z" itemprop="datePublished">2015-12-10</time>
</a>
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Làm quen với Angular 2 - Zoo app - part 2 - Form
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Ở <a href="/2015/12/04/lam-quen-voi-angular2-zoo-app-part-1/">phần 1</a> chúng ta đã sử dụng một vài directives cơ bản của Angular như NgFor, NgIf, NgClass và ta cũng biết rằng muốn sử dụng directive nào, ta phải khai báo directive đó cho Component. Tuy nhiên việc phải khai báo từng directive như vậy thật bất tiện. Để khắc phục điều đó, Angular 2 đã gộp các core directives vào một tập hợp là <code>CORE_DIRECTIVES</code> ta chỉ cần khai báo nó một lần là có thể dùng được các core directives của Angular. Trước khi vào phần 2 ta thay đổi một chút như sau:</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;Component, bootstrap, CORE_DIRECTIVES, FORM_DIRECTIVES&#125; <span class="keyword">from</span> <span class="string">'angular2/angular2'</span>;</div><div class="line"></div><div class="line">...</div><div class="line">  directives: [CORE_DIRECTIVES, FORM_DIRECTIVES],</div></pre></td></tr></table></figure>
<p>Ngoài <code>CORE_DIRECTIVES</code> ra mình còn khai báo thêm <code>FORM_DIRECTIVES</code>, chắc hẳn là bạn đã đoán ra đó là tập hợp các directive dành cho Form của Angular.</p>
<a id="more"></a>
<h1 id="Tao-form"><a href="#Tao-form" class="headerlink" title="Tạo form"></a>Tạo form</h1><p>Trong Component template ta thêm vào form</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">form</span> (<span class="attr">ng-submit</span>)=<span class="string">"onSubmit()"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">label</span>&gt;</span>Type<span class="tag">&lt;/<span class="name">lable</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">required</span> [(<span class="attr">ng-model</span>)]=<span class="string">"newAnimal.type"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">label</span>&gt;</span>Name<span class="tag">&lt;/<span class="name">lable</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">required</span> [(<span class="attr">ng-model</span>)]=<span class="string">"newAnimal.name"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span>Add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Trong Component ta thêm thuộc tính <code>newAnimal</code> và phương thức <code>onSubmit</code>:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> newAnimal = &#123;</div><div class="line">  type: <span class="string">''</span>,</div><div class="line">  name: <span class="string">''</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">onSubmit() &#123;</div><div class="line">  <span class="keyword">this</span>.animals.push(&#123;</div><div class="line">    type: <span class="keyword">this</span>.newAnimal.type,</div><div class="line">    name: <span class="keyword">this</span>.newAnimal.name</div><div class="line">  &#125;);</div><div class="line"></div><div class="line">  <span class="keyword">this</span>.newAnimal.type = <span class="string">''</span>;</div><div class="line">  <span class="keyword">this</span>.newAnimal.name = <span class="string">''</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Sau khi ta nhập thông tin vào form và nhấn nút <code>Add</code> phương thức <code>onSubmit</code> sẽ được gọi. Trong phương thức này ta push thêm một animal mới vào danh sách <code>this.animals</code> với dữ liệu được lấy từ <code>this.newAnimal</code> mà ta đã liên kết nó với form input bằng <code>[(ng-model)]</code>. Sau khi add xong, ta làm trống 2 ô text input bằng cách gán chuỗi rỗng vào <code>type</code> và <code>name</code> của <code>newAnimal</code>.</p>
<h1 id="ng-model"><a href="#ng-model" class="headerlink" title="ng-model"></a>ng-model</h1><p><em>Phần này trình bày sâu về directive ng-mode, bạn có thể bỏ qua nếu muốn dùng mà không cần tìm hiểu thêm</em></p>
<p>Như ta thấy ở trên, dữ liệu giữa model và text input đã được truyền theo kiểu two-way data binding.</p>
<p>Với Property binding, <code>ng-model</code> được bọc trong cặp dấu <code>[]</code>, khi dữ liệu của model thay đổi, nó sẽ thay đổi phần view của text input. Cho nên khi ta gán <code>this.newAnimal.type = &#39;&#39;</code>, text input của ta cũng bị làm rỗng. Dữ liệu ở đây đi theo chiều <strong>model -&gt; view</strong>.</p>
<p>Với Event binding, <code>ng-model</code> được bọc trong cặp dấu <code>()</code>, khi giá trị của text input thay đổi, dữ liệu sẽ được cập nhật lại vào trong <code>newAnimal</code>. Chính vì vậy, khi form được submit ta mới có thể lấy được thông tin nhập vào từ text input. Dữ liệu ở đây đi theo chiều <strong>view -&gt; model</strong>.</p>
<p>Thực tế thì ta có thể tách <code>[(ngModel)]</code> ra 2 phần riêng lẽ như sau:</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;<span class="built_in">input</span> <span class="built_in">type</span>=<span class="string">"text"</span> required (ng-model-<span class="keyword">change</span>)=<span class="string">"newAnimal.type = $event"</span> [ng-model]=<span class="string">"newAnimal.type"</span>&gt;</div></pre></td></tr></table></figure>
<p>Việc binding cũng sẽ diễn ra tương tự.</p>
<p><code>ng-model-change</code> ở đây không phải là một event của thẻ <code>&lt;input&gt;</code> mà nó thực tế là một event property của <code>ngModel</code>. Khi Angular nhìn thấy cú pháp <code>[(abc)]</code> nó sẽ mong đợi directive <code>abc</code> có một input property <code>abc</code> và một ouput property <code>abc-change</code>.</p>
<p>Khi coi sơ qua code của <code>ngModel</code> ta sẽ thấy như sau (Code này có thể thay đổi khi Angular2 ra bản chính thức):</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="variable">@Directive</span>(&#123;</div><div class="line">  <span class="attribute">selector</span>: <span class="string">'[ng-model]:not([ng-control]):not([ng-form-control])'</span>,</div><div class="line">  <span class="attribute">bindings</span>: [formControlBinding],</div><div class="line">  <span class="attribute">inputs</span>: [<span class="string">'model: ngModel'</span>],</div><div class="line">  <span class="attribute">outputs</span>: [<span class="string">'update: ngModelChange'</span>],</div><div class="line">  <span class="attribute">exportAs</span>: <span class="string">'form'</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p><code>ng-model-change</code> là một <code>EventEmitter</code> của angular, nó sẽ trả về value cho input khi được gọi.</p>
<p>Nói chung là tìm hiểu một chút cho biết, còn bình thường thì ta cứ dùng <code>[(ng-model)]</code> cho khỏe.</p>
<h1 id="Validate-va-track-state-voi-ng-control"><a href="#Validate-va-track-state-voi-ng-control" class="headerlink" title="Validate và track state với ng-control"></a>Validate và track state với ng-control</h1><p>Ta sửa lại template phần form và add thêm style cho component như sau:</p>
<p>Form  </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">form</span> (<span class="attr">ng-submit</span>)=<span class="string">"onSubmit()"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">label</span>&gt;</span>Type<span class="tag">&lt;/<span class="name">lable</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">required</span> [(<span class="attr">ng-model</span>)]=<span class="string">"newAnimal.type"</span> <span class="attr">ng-control</span>=<span class="string">"type"</span> #<span class="attr">type</span>=<span class="string">"form"</span> <span class="attr">required</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">label</span>&gt;</span>Name<span class="tag">&lt;/<span class="name">lable</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">required</span> [(<span class="attr">ng-model</span>)]=<span class="string">"newAnimal.name"</span> <span class="attr">ng-control</span>=<span class="string">"name"</span> #<span class="attr">name</span>=<span class="string">"form"</span> <span class="attr">required</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span>Add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"alert"</span> [<span class="attr">hidden</span>]=<span class="string">"type.valid"</span>&gt;</span>Type is required<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"alert"</span> [<span class="attr">hidden</span>]=<span class="string">"name.valid"</span>&gt;</span>Name is required<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Styles  </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">input</span> &#123; <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>; &#125;</div><div class="line"><span class="selector-class">.ng-invalid</span> &#123; <span class="attribute">border-left</span>: <span class="number">3px</span> solid red; &#125;</div><div class="line"><span class="selector-class">.alert</span> &#123; <span class="attribute">color</span>: red; &#125;</div></pre></td></tr></table></figure>
<p>Để có thể theo dõi được state của form controller ta sử dung directive <code>ng-control</code>, directive này chỉ có thể được áp dụng cho control bên trong thẻ <code>&lt;form&gt;</code>.</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;<span class="keyword">label</span>&gt;<span class="keyword">Type</span>&lt;/lable&gt;&lt;<span class="keyword">input</span> <span class="keyword">type</span>=<span class="string">"text"</span> required [(ng-model)]=<span class="string">"newAnimal.type"</span> ng-control=<span class="string">"type"</span> #<span class="keyword">type</span>=<span class="string">"form"</span> required&gt;</div></pre></td></tr></table></figure>
<p>Với mỗi <code>ng-control</code> ta cần gán cho nó một cái tên duy nhất. <code>ng-control</code> giúp ta biết được khi nào control được click (touch), khi nào giá trị thay đổi, khi nào thì giá trị bị sai. Và nó cũng thêm vào control một vài class đặc biệt của Angular.</p>
<table>
<thead>
<tr>
<th>State</th>
<th>Class if true</th>
<th>Class if false</th>
</tr>
</thead>
<tbody>
<tr>
<td>Control has been visited</td>
<td>ng-touched</td>
<td>ng-untouched</td>
</tr>
<tr>
<td>Control’s value has changed</td>
<td>ng-dirty</td>
<td>ng-pristine</td>
</tr>
<tr>
<td>Control’s value is valid</td>
<td>ng-valid</td>
<td>ng-invalid</td>
</tr>
</tbody>
</table>
<p>Vì input của ta có thuộc tính <code>required</code> nên khi không có giá trị nào bên trong, <code>ng-control</code> sẽ tự động thêm vào class <code>ng-invalid</code> do đó ta sẽ thấy input của mình như thế này:</p>
<p><a href="http://localhost:8000/images/angular2-input-invalid.png" title="input invalid" target="_blank" rel="external"><img src="/images/angular2-input-invalid.png" alt="input invalid"></a><span class="caption">input invalid</span></p>
<h2 id="Hien-thi-thong-bao-loi-khi-input-khong-dung"><a href="#Hien-thi-thong-bao-loi-khi-input-khong-dung" class="headerlink" title="Hiển thị thông báo lỗi khi input không đúng"></a>Hiển thị thông báo lỗi khi input không đúng</h2><p>Trong input ta tạo một local variable <code>#type=&quot;form&quot;</code> và gán cho nó từ <code>form</code>. Angular tự hiểu cú pháp này và gán <code>Control</code> Object cho biến <code>type</code>. Do đó ta có thể bind giá trị <code>type.valid</code> vào property <code>hidden</code> của thẻ <code>div</code>:</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;<span class="keyword">div</span> <span class="built_in">class</span>=<span class="string">"alert"</span> [hidden]=<span class="string">"type.valid"</span>&gt;Type <span class="keyword">is</span> required&lt;/<span class="keyword">div</span>&gt;</div></pre></td></tr></table></figure>
<p><a href="http://localhost:8000/images/angular2-error-message.png" title="error message" target="_blank" rel="external"><img src="/images/angular2-error-message.png" alt="error message"></a><span class="caption">error message</span></p>
<h2 id="Ngan-form-submit-khi-du-lieu-invalid"><a href="#Ngan-form-submit-khi-du-lieu-invalid" class="headerlink" title="Ngăn form submit khi dữ liệu invalid"></a>Ngăn form submit khi dữ liệu invalid</h2><p>Ta tạo một local variable <code>animalForm</code> và disable nút <code>Add</code> khi dữ liệu trong form invalid.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">form</span> (<span class="attr">ng-submit</span>)=<span class="string">"onSubmit()"</span> #<span class="attr">animalform</span>=<span class="string">"form"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">label</span>&gt;</span>Type<span class="tag">&lt;/<span class="name">lable</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">required</span> [(<span class="attr">ng-model</span>)]=<span class="string">"newAnimal.type"</span> <span class="attr">ng-control</span>=<span class="string">"type"</span> #<span class="attr">type</span>=<span class="string">"form"</span> <span class="attr">required</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">label</span>&gt;</span>Name<span class="tag">&lt;/<span class="name">lable</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">required</span> [(<span class="attr">ng-model</span>)]=<span class="string">"newAnimal.name"</span> <span class="attr">ng-control</span>=<span class="string">"name"</span> #<span class="attr">name</span>=<span class="string">"form"</span> <span class="attr">required</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span> [<span class="attr">disabled</span>]=<span class="string">"!animalform.form.valid"</span>&gt;</span>Add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"alert"</span> [<span class="attr">hidden</span>]=<span class="string">"type.valid"</span>&gt;</span>Type is required<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"alert"</span> [<span class="attr">hidden</span>]=<span class="string">"name.valid"</span>&gt;</span>Name is required<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Khi mới chạy ta sẽ thấy nút <code>Add</code> bị disabled, sau khi đã điền đủ thông tin vào name và type, nút <code>Add</code> sẽ được enable trở lại và ta có thể submit form.</p>
<h1 id="Tong-ket"><a href="#Tong-ket" class="headerlink" title="Tổng kết"></a>Tổng kết</h1><p><a href="http://localhost:8000/images/angular2-zoo-app-2.png" title="zoo app version 2" target="_blank" rel="external"><img src="/images/angular2-zoo-app-2.png" alt="zoo app version 2"></a><span class="caption">zoo app version 2</span></p>
<p>Sau phần này, ta đã biết cách sử dụng <code>ng-model</code> cho two-way data binding. Tìm hiểu một chút về cách <code>[(ng-model)]</code> hoạt động.<br>Sử dụng <code>ng-control</code> để theo dõi trạng thái của <code>control</code>, cũng như thêm style cho control, ẩn hiện thông báo lỗi tùy vào trạng thái của control.</p>
<p>Toàn bộ code của phần 2.</p>
<p><code>app.ts</code></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;<span class="type">Component</span>, bootstrap, <span class="type">CORE_DIRECTIVES</span>, <span class="type">FORM_DIRECTIVES</span>&#125; from <span class="symbol">'angular2</span>/angular2';</div><div class="line"></div><div class="line"><span class="meta">@Component</span>(&#123;</div><div class="line">  selector: <span class="symbol">'ap</span>p',</div><div class="line">  directives: [<span class="type">CORE_DIRECTIVES</span>, <span class="type">FORM_DIRECTIVES</span>],</div><div class="line">  template: `</div><div class="line">    &lt;h1&gt;<span class="type">Animal</span> list&lt;/h1&gt;</div><div class="line">    &lt;form (ng-submit)=<span class="string">"onSubmit()"</span> #animalform=<span class="string">"form"</span>&gt;</div><div class="line">      &lt;label&gt;<span class="type">Type</span>&lt;/lable&gt;&lt;input <span class="class"><span class="keyword">type</span></span>=<span class="string">"text"</span> required [(ng-model)]=<span class="string">"newAnimal.type"</span> ng-control=<span class="string">"type"</span> #<span class="class"><span class="keyword">type</span></span>=<span class="string">"form"</span> required&gt;</div><div class="line">      &lt;label&gt;<span class="type">Name</span>&lt;/lable&gt;&lt;input <span class="class"><span class="keyword">type</span></span>=<span class="string">"text"</span> required [(ng-model)]=<span class="string">"newAnimal.name"</span> ng-control=<span class="string">"name"</span> #name=<span class="string">"form"</span> required&gt;</div><div class="line">      &lt;button <span class="class"><span class="keyword">type</span></span>=<span class="string">"submit"</span> [disabled]=<span class="string">"!animalform.form.valid"</span>&gt;<span class="type">Add</span>&lt;/button&gt;</div><div class="line">      &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"alert"</span> [hidden]=<span class="string">"type.valid"</span>&gt;<span class="type">Type</span> is required&lt;/div&gt;</div><div class="line">      &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"alert"</span> [hidden]=<span class="string">"name.valid"</span>&gt;<span class="type">Name</span> is required&lt;/div&gt;</div><div class="line">    &lt;/form&gt;</div><div class="line">    &lt;ul <span class="class"><span class="keyword">class</span></span>=<span class="string">"animal-list"</span>&gt;</div><div class="line">      &lt;li *ng-<span class="keyword">for</span>=<span class="string">"#animal of animals"</span> (click)=<span class="string">"select(animal)"</span> [ng-<span class="class"><span class="keyword">class</span>]</span>=<span class="string">"getSelectedClass(animal)"</span>&gt;</div><div class="line">        &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"type"</span>&gt;&#123;&#123;animal.<span class="keyword">type</span>&#125;&#125;&lt;/span&gt; &#123;&#123;animal.name&#125;&#125;</div><div class="line">      &lt;/li&gt;</div><div class="line">    &lt;/ul&gt;</div><div class="line">    &lt;div *ng-<span class="keyword">if</span>=<span class="string">"selectedAnimal"</span>&gt;</div><div class="line">      &lt;h2&gt;<span class="type">Selected</span> <span class="type">Animal</span>&lt;/h2&gt;</div><div class="line">      (&#123;&#123;selectedAnimal.<span class="keyword">type</span>&#125;&#125;) &#123;&#123;selectedAnimal.name&#125;&#125;</div><div class="line">    &lt;/div&gt;</div><div class="line">  `,</div><div class="line">  styles: [`</div><div class="line">    .animal-list &#123; list-style-<span class="class"><span class="keyword">type</span></span>: none; padding: <span class="number">0</span>; &#125;</div><div class="line">    .animal-list li &#123; cursor: pointer; &#125;</div><div class="line">    .animal-list li:hover &#123; cursor: pointer; font-weight: bold; &#125;</div><div class="line">    .animal-list li .<span class="keyword">type</span> &#123; background: #<span class="type">FF9800</span>; color: #<span class="type">FFF</span>; padding: <span class="number">2</span>px <span class="number">4</span>px; line-height: <span class="number">1.5</span>em;&#125;</div><div class="line">    .selected &#123; font-weight: bold; &#125;</div><div class="line">    input &#123; border: <span class="number">1</span>px solid #ccc; &#125;</div><div class="line">    .ng-invalid &#123; border-left: <span class="number">3</span>px solid red; &#125;</div><div class="line">    .alert &#123; color: red; &#125;</div><div class="line">  `]</div><div class="line">&#125;)</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">AppComponent</span> </span>&#123;</div><div class="line">  public selectedAnimal;</div><div class="line">  public newAnimal = &#123;</div><div class="line">    <span class="class"><span class="keyword">type</span></span>: '',</div><div class="line">    name: ''</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  animals = [</div><div class="line">    &#123; <span class="class"><span class="keyword">type</span></span>: <span class="symbol">'Tige</span>r', name: <span class="symbol">'Bob</span>o'&#125;,</div><div class="line">    &#123; <span class="class"><span class="keyword">type</span></span>: <span class="symbol">'Do</span>g', name: <span class="symbol">'Mi</span>c'&#125;,</div><div class="line">    &#123; <span class="class"><span class="keyword">type</span></span>: <span class="symbol">'Elepha</span>n', name: <span class="symbol">'Bi</span>g'&#125;</div><div class="line">  ];</div><div class="line"></div><div class="line">  select(animal) &#123; <span class="keyword">this</span>.selectedAnimal = animal; &#125;</div><div class="line"></div><div class="line">  getSelectedClass(animal) &#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">      <span class="symbol">'selecte</span>d': animal === <span class="keyword">this</span>.selectedAnimal</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  onSubmit() &#123;</div><div class="line">    <span class="keyword">this</span>.animals.push(&#123;</div><div class="line">      <span class="class"><span class="keyword">type</span></span>: <span class="keyword">this</span>.newAnimal.<span class="keyword">type</span>,</div><div class="line">      name: <span class="keyword">this</span>.newAnimal.name</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    <span class="keyword">this</span>.newAnimal.<span class="keyword">type</span> = '';</div><div class="line">    <span class="keyword">this</span>.newAnimal.name = '';</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">bootstrap(<span class="type">AppComponent</span>);</div></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://saysua.com/2015/12/10/lam-quen-voi-angular2-zoo-app-part-2/" data-id="ciubaakpz000ukovld2f6hgmv" class="article-share-link">Share</a>
      
        <a href="http://saysua.com/2015/12/10/lam-quen-voi-angular2-zoo-app-part-2/#disqus_thread" class="article-comment-link">Comments</a>
      
      <div class="tagcloud">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Angular2/">Angular2</a></li></ul>

      </div>
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/12/14/lam-quen-voi-angular2-zoo-app-part-3-dependency-injection/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Làm quen với Angular 2 - Zoo app - part 3 - Dependency Injection
        
      </div>
    </a>
  
  
    <a href="/2015/12/04/lam-quen-voi-angular2-zoo-app-part-1/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Làm quen với Angular 2 - Zoo app - part 1</div>
    </a>
  
</nav>

  
</article>

<hr>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>


          </div>
        </section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
  <h3 class="widget-title">Like my blog?</h3>
    <div class="widget">
        <div id="mc_embed_signup">
            <form action="//saysua.us13.list-manage.com/subscribe/post?u=f73e6f67cd2f017d41a3e3d41&amp;id=f866d9a20e" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate="novalidate">
                <div id="mc_embed_signup_scroll">
            <div class="mc-field-group">
                <label>Enter your email to subscribe my blog.</label>
                <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="Your email address" aria-required="true">
            </div>
                <div id="mce-responses" class="clear">
                    <div class="response" id="mce-error-response" style="display:none"></div>
                    <div class="response" id="mce-success-response" style="display:none"></div>
                </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_f73e6f67cd2f017d41a3e3d41_f866d9a20e" tabindex="-1" value=""></div>
                <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
                </div>
            </form>
        </div>
    </div>
</div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Labels</h3>
    <div class="widget tagcloud">
      <a href="/tags/Ajax/" style="font-size: 12px;">Ajax</a> <a href="/tags/Angular2/" style="font-size: 18px;">Angular2</a> <a href="/tags/Angularjs/" style="font-size: 12px;">Angularjs</a> <a href="/tags/Bower/" style="font-size: 12px;">Bower</a> <a href="/tags/Facebook/" style="font-size: 12px;">Facebook</a> <a href="/tags/Godaddy/" style="font-size: 12px;">Godaddy</a> <a href="/tags/Gulp/" style="font-size: 12px;">Gulp</a> <a href="/tags/Javascript/" style="font-size: 20px;">Javascript</a> <a href="/tags/Jquery/" style="font-size: 18px;">Jquery</a> <a href="/tags/Mysql/" style="font-size: 12px;">Mysql</a> <a href="/tags/NodeJs/" style="font-size: 12px;">NodeJs</a> <a href="/tags/Nodejs/" style="font-size: 16px;">Nodejs</a> <a href="/tags/Nvm/" style="font-size: 12px;">Nvm</a> <a href="/tags/OAuth/" style="font-size: 12px;">OAuth</a> <a href="/tags/PHP/" style="font-size: 14px;">PHP</a> <a href="/tags/Scrape/" style="font-size: 12px;">Scrape</a> <a href="/tags/TeamCity/" style="font-size: 12px;">TeamCity</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/10/18/cai-dat-nodejs-tren-godaddy-shared-hosting/">Cài đặt Nodejs trên Godaddy shared hosting</a>
          </li>
        
          <li>
            <a href="/2016/09/07/teamcity-build-agent-disconnected/">TeamCity – Build agent disconnected</a>
          </li>
        
          <li>
            <a href="/2016/04/19/nodejs-module-cache-trying/">Nodejs Module Caching</a>
          </li>
        
          <li>
            <a href="/2016/03/01/nodejs-request-Error-socket-hang-up-code-ECONNRESET/">Nodejs - Request - Error socket hang up code - ECONNRESET</a>
          </li>
        
          <li>
            <a href="/2015/12/14/lam-quen-voi-angular2-zoo-app-part-3-dependency-injection/">Làm quen với Angular 2 - Zoo app - part 3 - Dependency Injection</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/01/">January 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">December 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">November 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">October 2013</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">September 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">August 2013</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Thach Nguyen<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      Theme is based on <a href="http://demo.s5themes.com/focused/">Focused</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="http://app.saysua.com" class="mobile-nav-link">Apps</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'saysua';
  
  var disqus_url = 'http://saysua.com/2015/12/10/lam-quen-voi-angular2-zoo-app-part-2/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>



<script src="/js/script.js"></script>

  </div>
</body>
</html>